{%extends "headerfooter.html"%}

{% block body %}

    {% with errors = get_flashed_messages(category_filter=["error"]) %}
      {% if errors %}
        <ul class=flashes>
        {% for msg in errors %}
          <li style="color: firebrick">{{ msg }}</li>
        {% endfor %}
        </ul>
      {% endif %}
    {% endwith %}

<div class="container">
    <div class="row" style="padding-top: 5%">
        <div class="col-2" ></div>
        <div class="col-7" >
            <h1 style="text-align:center">Welcome to KaMI App!</h1>
            <p></p>
            <h5 style="text-align: center; padding-top:3%;">KaMI stands for Kraken Model Inspector. It evaluates the success of a transcription task comparing a correct transcription (reference) and a prediction.</h5>
        </div>
        <div class="col-3" ></div>
    </div>
    <!--<div class="row" style="padding-top: 5%">
        <div class="col-2" ></div>
        <div class="col-7" >
        <img src="{{ url_for('static', filename='img/aspyre-gui_mini.png')}}" alt="Aspyre GUI Logo" class="center-image">
        </div>
        <div class="col-3" ></div>
    </div>-->
</div>

<!--<div class="container">
    <div class="row" style="padding-top: 5%">
        <div class="col-2" ></div>
        <div class="col-7" >
        <h2 style="text-align:center">Instructions</h2>
            <p></p>
            <ul>
                <li><h5 style="padding-top:1%;">Use the Transkribus export option to download a ZIP file containing image files, ALTO XML files and a METS XML file</h5></li>
                <li><h5 style="padding-top:1%;">[opt] You may need to remove the images from the ZIP file in order to remain under the size limitation we were forced to set on this service online - initially checking the "Export Image" option on Transkribus, however, is necessary in order to get a properly documented METS XML file...</h5></li>
                <li><h5 style="padding-top:1%;">Upload the ZIP file here and hit "Transform" to run Aspyre GT on your data</h5></li>
                <li><h5 style="padding-top:1%;">Save the returned ZIP file: it contains ALTO XML files directly compatible with eScriptorium</h5></li>
                <li><h5 style="padding-top: 2%"><a href="https://github.com/alix-tz/aspyre-gt#instructions" target="_blank" class="a_inline">Find more detailed instructions</a></h5></li>
            </ul>
        </div>
        <div class="col-3" ></div>
    </div>
</div>-->

<div class="container" style="padding-top: 3%;">
    <div class="row">
        <div class="col-2"></div>
        <div class="col-7">
            
        </div>
        <div class="col-2"></div>
    </div>
</div>

<div class="container" style="padding-top:3%;">
    <div class="row">
        <div class="col-2" >
        </div>
        <div class="col-7 upload-zone" style="text-align:center;" >
            <form action="/" method="POST" enctype="multipart/form-data">
                <div class="input-file-container">
                    <div class="form-group row mx-3">
                        <label class="" for="reference">Reference</label>
                        <textarea name="reference" class="form-control" id="reference" rows="5" placeholder="Paste the expected transcription..." required></textarea>
                    </div>
                    <div class="form-group row mx-3">
                        <label class="" for="prediction">Prediction</label>
                        <textarea name="prediction" class="form-control" id="prediction" rows="5" placeholder="Paste the transcription produced by the evaluated model..." required></textarea>
                    </div>
                </div>
                <div class="form-group row mx-3">
                    <div class="container pl-5">
                        <div class="form-group row">
                            <input class="form-check-input" type="checkbox" name="optdigit" id="optdigit">
                            <label class="form-check-label" for="optdigit">Ignore all digits</label>
                        </div>
                        <div class="form-group row">
                            <input class="form-check-input" type="checkbox" name="optcase" id="optcase">
                            <label class="form-check-label" for="optcase">Ignore text case (all lower)</label>
                        </div>
                        <div class="form-group row">
                            <input class="form-check-input" type="checkbox" name="optponct" id="optponct">
                            <label class="form-check-label" for="optponct">Ignore the punctuation</label>
                        </div>
                        <div class="form-group row">
                            <input class="form-check-input" type="checkbox" name="optdiac" id="optdiac">
                            <label class="form-check-label" for="optdiac">Ignore diacritical signs</label>
                        </div>
                    </div>
                </div>
                <button style="margin-top: 3%; background-color: #780018; border-color: #780018;" class="btn btn-primary" type="submit">Compare</button>
            </form>
        </div>
        <div class="col-3" >
        </div>
    </div>
</div>^
{% if tables and titles %}
<div class="container pb-5 mb-5">
    <div class="row" style="padding-top: 5%">
        <div class="col-2" ></div>
        <div class="table-responsive">
            {% for table in tables %}
              {{ titles[loop.index] }}
              {{ table|safe }}
            {% endfor %}
        </div>
        <div class="col-2" ></div>
    </div>
</div>
{% endif %}

       

<!--<div class="container">
    <div class="row" style="padding-top: 5%">
        <div class="col-2" >
        </div>
        <div class="col-7" >
        <h2 style="text-align:center">General Information</h2>
            <p></p>
            <ul>
                <li><h5 style="padding-top:1%;"><a href="https://github.com/alix-tz/aspyre-gt" target="_blank" class="a_inline">Find more information on Aspyre</a></h5></li>
                <li><h5 style="padding-top:1%;">Aspyre GT and Aspyre GUI are developed by <a href="https://alix-tz.github.io/" target="_blank" class="a_inline">Alix Chagu√©</a></h5></li>
                <li><h5 style="padding-top:1%;">You can <a href="https://github.com/alix-tz/aspyre-gt/issues/new" target="_blank" class="a_inline">contribute to the project</a></h5></li>
            </ul>
        </div>
        <div class="col-3" >
        </div>
    </div>
</div>-->

{% endblock %}

{% block script %}
<!-- from http://www.trucsweb.com/tutoriels/css/bootstrap4-file_browser/ -->
<!--<script>
    function filesize(elem){
        document.cookie = `filesize=${elem.files[0].size}`
    }

    document.querySelector("html").classList.add('js');
        var fileInput  = document.querySelector( ".input-file" ),
            button     = document.querySelector( ".input-file-trigger" ),
            the_return = document.querySelector(".file-return");

        button.addEventListener( "keydown", function( event ) {
            if ( event.keyCode == 13 || event.keyCode == 32 ) {
                fileInput.focus();
            }
        });
        button.addEventListener( "click", function( event ) {
           fileInput.focus();
           return false;
        });
        fileInput.addEventListener( "change", function( event ) {
            the_return.innerHTML = this.value;
        });
</script>-->

{% endblock %}
